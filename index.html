<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sri Arya Akshobya teertha moola Samsthanam Balagaru — Teerthahalli</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="description" content="Sri Arya Akshobya teertha moola Samsthanam Balagaru — traditional Vedic Samsthanam preserving Parampara, seva and upadesha by the Tungabhadra." />
</head>
<body>

  <!-- Top saffron strip (inspired by Siddhagiri) -->
  <div class="top-strip" aria-hidden="true"></div>

  <!-- Header with CSS-only hamburger menu: checkbox + label (no JavaScript) -->
  <header class="site-header" role="banner">
    <div class="container header-inner">
      <div class="brand">
        <div class="crest" aria-hidden="true"></div>
        <div>
          <!-- Full official name kept in header; hero will use a shorter title -->
          <div class="brand-line">Sri Arya Akshobya</div>
          <div class="brand-name">teertha moola Samsthanam Balagaru</div>
          <div class="mutt-loc">Teerthahalli, Karnataka</div>
        </div>
      </div>

      <!-- Nav toggle (checkbox) for mobile -->
      <input id="nav-toggle" class="nav-toggle" type="checkbox" aria-hidden="true" />
      <label for="nav-toggle" class="nav-toggle-label" aria-hidden="true" title="Toggle navigation">
        <span class="hamburger"></span>
      </label>

      <!-- Navigation: shown/hidden on mobile via the checkbox above -->
      <nav class="site-nav" aria-label="Primary navigation">
        <a href="index.html" class="nav-item">Home</a>
        <a href="about.html" class="nav-item">About</a>
        <a href="parampara.html" class="nav-item">Parampara</a>
        <a href="news.html" class="nav-item">News</a>
        <a href="gallery.html" class="nav-item">Gallery</a>
        <a href="contact.html" class="nav-item">Contact</a>
        <a href="admin/index.html" class="nav-item admin">Admin</a>
      </nav>
    </div>
  </header>

  <!-- HERO: shorter, non-redundant title; overlay is unobtrusive -->
  <section class="hero-image" role="region" aria-label="Hero">
    <div class="hero-overlay">
      <!-- Shorter hero title to avoid repetition -->
      <h1 class="hero-title">Sri Arya Akshobya Samsthanam</h1>
      <h2 class="hero-subtitle">Teerthahalli</h2>
      <p class="hero-tagline">Preserving Dharma • Sampradaya • Seva</p>
    </div>
  </section>

  <main>
    <section class="intro container">
      <div class="intro-grid">
        <div class="intro-text card">
          <h2>Welcome</h2>
          <p>Sri Arya Akshobya teertha moola Samsthanam Balagaru sits quietly in the nest of nature near the Tungabhadra. We maintain the Guru–Shishya parampara, offer Vedic study and serve the surrounding communities through seva and education.</p>
          <p><a href="about.html" class="read-more">Learn more about the Samsthanam →</a></p>
        </div>

        <div class="intro-quick card">
          <h3>Quick Info</h3>
          <ul>
            <li><strong>Location:</strong> Teerthahalli, Shimoga</li>
            <li><strong>Services:</strong> Vedic study, bhajans, yagnas</li>
            <li><strong>Contact:</strong> contact@balagarumutt.org</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="summary container">
      <h3>Guru Parampara</h3>
      <p>Our Parampara traces the succession of Acharyas who preserved the teachings. The current Peetadhipati continues the lineage with humility and devotion.</p>
      <p><a href="parampara.html" class="read-more">See the Parampara →</a></p>
    </section>

    <section class="latest-news container" id="latest-news">
      <h3>Latest News & Events</h3>
      <div id="news-list">
        <p class="muted">Loading recent news…</p>
      </div>
      <p><a href="news.html" class="read-more">All news & events →</a></p>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="container footer-inner">
      <div>
        <!-- Footer kept concise to avoid repeating hero/header -->
        <p>© <span id="year"></span> Sri Arya Akshobya teertha moola Samsthanam Balagaru</p>
        <p class="small-muted">A respectful, traditional presentation inspired by Indian mutt designs.</p>
      </div>
      <div class="footer-contacts">
        <p class="small-muted">Phone: <span class="muted">+91‑XXXXXXXXXX</span></p>
        <p class="small-muted">Email: <a href="mailto:contact@balagarumutt.org">contact@balagarumutt.org</a></p>
      </div>
    </div>
  </footer>

  <script>
    // Only small behavior: set year and load news manifest (unchanged)
    document.getElementById('year').textContent = new Date().getFullYear();

    function formatDate(iso) {
      try { return new Date(iso).toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' }); }
      catch (e) { return iso; }
    }

    (function loadLatestNews() {
      fetch('/content/news/index.json').then(function (r) {
        if (!r.ok) throw new Error('News index not found'); return r.json();
      }).then(function (data) {
        if (!Array.isArray(data) || data.length === 0) {
          document.getElementById('news-list').innerHTML = '<p class="muted">No news available.</p>'; return;
        }
        data.sort(function (a,b){return new Date(b.date)-new Date(a.date);});
        const latest = data.slice(0,4);
        const list = document.createElement('div'); list.className='news-grid';
        latest.forEach(function (item){
          const card = document.createElement('article'); card.className='news-card card';
          const title = document.createElement('h4'); title.innerHTML = '<a href="news.html?file='+encodeURIComponent(item.file)+'">'+item.title+'</a>';
          const date = document.createElement('div'); date.className='news-date'; date.textContent = formatDate(item.date);
          const excerpt = document.createElement('p'); excerpt.textContent = item.excerpt || '';
          card.appendChild(title); card.appendChild(date); card.appendChild(excerpt); list.appendChild(card);
        });
        const container = document.getElementById('news-list'); container.innerHTML=''; container.appendChild(list);
      }).catch(function () {
        document.getElementById('news-list').innerHTML = '<p class="muted">No news available. Use the admin panel to add news.</p>';
      });
    })();
  </script>
</body>
</html>
